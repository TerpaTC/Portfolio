const sections = document.querySelectorAll("section"), sectionObserver = new IntersectionObserver((e, s) => { e.forEach(e => { if (e.isIntersecting) { let t = [...sections].indexOf(e.target); e.target.style.transitionDelay = `${.2 * t}s`, e.target.classList.remove("section-hidden"), requestAnimationFrame(() => { e.target.classList.add("section-visible") }), s.unobserve(e.target) } }) }, { threshold: .15 }); sections.forEach(e => sectionObserver.observe(e));